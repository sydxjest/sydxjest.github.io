<!DOCTYPE html>
<html lang="en">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  <link rel="icon" href="">
  <title>Hexo</title>
  <meta name="author" content="John Doe" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="" />
  
  <meta name="description" content="组件通信 父子组件通信两个组件   父  与  子&lt;br &#x2F;&gt;    props：【‘’】  接受数据  只接受不校验&lt;br &#x2F;&gt;    写法1：  123props:&amp;#123;		money:Number  &#x2F;&#x2F;接受number类型&amp;#125;   写法2：  1234money:&amp;#123;		validator(val)&amp;#123; &amp;#x2F">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2021/04/15/6.vue%E5%9F%BA%E7%A1%804/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="组件通信 父子组件通信两个组件   父  与  子&lt;br &#x2F;&gt;    props：【‘’】  接受数据  只接受不校验&lt;br &#x2F;&gt;    写法1：  123props:&amp;#123;		money:Number  &#x2F;&#x2F;接受number类型&amp;#125;   写法2：  1234money:&amp;#123;		validator(val)&amp;#123; &amp;#x2F">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/null">
<meta property="article:published_time" content="2021-04-15T12:52:57.758Z">
<meta property="article:modified_time" content="2021-04-15T12:51:52.831Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/null">
<meta name="twitter:site" content="@null">
  
  <!-- 站点验证相关 -->
  
    
    
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" type="text/css" media="all">
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" type="text/css" media="all">
  
  
  <link rel="stylesheet" id="fontawe-css" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" type="text/css" media="all">
  <link rel="stylesheet" id="nprogress-css" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" type="text/css" media="all">
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-dark.min.css" type="text/css" media="all">
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/qrcode_js@1.0.0/qrcode.min.js"></script>
  
<meta name="generator" content="Hexo 5.4.0"></head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div>
            <header id="kratos-header-section">
                <div class="container">
                    <div class="nav-header">
                        <div class="color-logo"><a href="/">Hexo</a></div>
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                        <li><a href="/"><i class="fa fa-home"></i>首页</a></li>
                                    
                                
                                    
                                        <li><a href="/archives/"><i class="fa fa-file"></i>档案馆</a></li>
                                    
                                
                                    
                                        <li><a href="/friends/"><i class="fa fa-paw"></i>好伙伴</a></li>
                                    
                                
                                    
                                        <li>
                                            <a><i class="fa fa-link"></i>链接</a>
                                            <ul class="sub-menu">
                                                
                                                    
                                                
                                                    
                                                        <li><a target="_blank" rel="noopener" href="https://candinya.com">作者博客</a></li>
                                                    
                                                
                                                    
                                                        <li><a target="_blank" rel="noopener" href="https://github.com/Candinya/Kratos-Rebirth">项目链接</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>Hexo</h2> <br />
                        <span></span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        <section class="col-md-8">
    <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                <h1 class="kratos-entry-title text-center"></h1>
                
                <ul class="kratos-post-meta text-center">
                    <li><i class="fa fa-calendar"></i> 2021-04-15</li>
                    <li><i class="fa fa-user"></i> 作者 John Doe</li>
                    <li>
                        <i class="fa fa-edit"></i> 
                        
                        
                            ~17.11K
                        
                        字
                    </li>
                    
                </ul>
            </header>
            <div class="kratos-post-content">
                <div id="expire-alert" class="alert alert-warning hidden" role="alert">
                    本文最后编辑于 <time datetime="1618491112831"></time> 前，其中的内容可能需要更新。
                </div>
                
                <hr />
                <p><a name="613cf536"></a></p>
<h4 id="组件通信"><a href="#组件通信" class="headerlink" title="组件通信"></a>组件通信</h4><p><a name="Cs5uE"></a></p>
<h2 id="父子组件通信"><a href="#父子组件通信" class="headerlink" title="父子组件通信"></a>父子组件通信</h2><pre><code>两个组件   父  与  子&lt;br /&gt;    props：【‘’】  接受数据  只接受不校验&lt;br /&gt;    写法1：
</code></pre>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">props:&#123;</span><br><span class="line">		money:Number  &#x2F;&#x2F;接受number类型</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<pre><code>写法2：
</code></pre>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">money:&#123;</span><br><span class="line">		validator(val)&#123; &#x2F;&#x2F;检验函数   validator这个名称是死的</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br />

<p><a name="yFgFn"></a></p>
<h2 id="子父组件通信"><a href="#子父组件通信" class="headerlink" title="子父组件通信"></a>子父组件通信</h2><pre><code>子给父&lt;br /&gt;    数据  --- 子&lt;br /&gt;    父 ------  接收  【定义一个数据来接收】&lt;br /&gt;在父组件定义一个方法  @aaa=&#39;bbb&#39;     bbb(num)&#123;num&#125;&lt;br /&gt;在子组件用this.$emit(&#39;aaa&#39; , 10)触发自定义事件  this.$emit（）可以接收多个参数，第二个以后的参数可以传递给父组件&lt;br /&gt;
</code></pre>
<p><br />html页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;Father&gt;&lt;&#x2F;Father&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;template id&#x3D;&quot;father&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;!-- 使用自定义事件【事件名自定义】形式将父组件中的方法传递给子组件 --&gt;</span><br><span class="line">      &lt;Son @get&#x3D;&quot;setXjk&quot;&gt;&lt;&#x2F;Son&gt;</span><br><span class="line">      &lt;hr&gt;</span><br><span class="line">      &lt;p&gt; &#123;&#123; xJk  &#125;&#125; &lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;template id&#x3D;&quot;son&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;give&quot;&gt; 给红包 &lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>
<p>js页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">const app &#x3D; Vue.createApp(&#123;&#125;)</span><br><span class="line">  app.component(&#39;Father&#39;,&#123;</span><br><span class="line">    template: &#39;#father&#39;,</span><br><span class="line">    data () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        xJk: 500 </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      setXjk (hongBao) &#123;</span><br><span class="line">        this.xJk +&#x3D; hongBao</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  app.component(&#39;Son&#39;,&#123;</span><br><span class="line">    template: &#39;#son&#39;,</span><br><span class="line">    data () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        hongBao: 8888,</span><br><span class="line">        count: 1 </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      give () &#123;</span><br><span class="line">        &#x2F;&#x2F; 执行父组件传递过来的那个自定义事件 </span><br><span class="line">        &#x2F;&#x2F; Vue提供了一个  $emit  </span><br><span class="line">        &#x2F;&#x2F; this.$emit(自定义事件名称,参数)</span><br><span class="line">        if (this.count &gt; 1 ) &#123;</span><br><span class="line">          alert(&#39;只执行一次，没钱了&#39;)</span><br><span class="line">          return;</span><br><span class="line">        &#125;</span><br><span class="line">        this.$emit(&#39;get&#39;,this.hongBao)</span><br><span class="line">        this.count ++ </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  app.mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure>
<p><a name="FQI2w"></a></p>
<h2 id="非父子组件通信"><a href="#非父子组件通信" class="headerlink" title="非父子组件通信"></a>非父子组件通信</h2><p><br />给子组件使用ref标记   在父组件使用this.$refs.xxx.xxx 触发<br />子组件使用props  将数据传递给父组件     父组件    使用：kick=“kick ”（数据单向绑定） 接收<br /><br><br />html页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;Father&gt;&lt;&#x2F;Father&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;template id&#x3D;&quot;father&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;!-- sister和son是同级 --&gt;</span><br><span class="line">      &lt;Sister :kick&#x3D;&quot;kick&quot;&gt;&lt;&#x2F;Sister&gt;</span><br><span class="line">      &lt;!-- 给son组件打一个ref标记，用于父组件获取son组件 --&gt;</span><br><span class="line">      &lt;Son ref&#x3D;&quot;zj&quot;&gt;&lt;&#x2F;Son&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;template id&#x3D;&quot;son&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;img v-if&#x3D;&quot;cryFlag&quot; src&#x3D;&quot;https:&#x2F;&#x2F;ss0.bdstatic.com&#x2F;70cFuHSh_Q1YnxGkpoWK1HF6hhy&#x2F;it&#x2F;u&#x3D;116032457,3865953395&amp;fm&#x3D;26&amp;gp&#x3D;0.jpg&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;template id&#x3D;&quot;sister&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;kick&quot;&gt; 揍弟弟 &lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>
<p>js页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 案例： 姐姐揍弟弟，弟弟哭</span><br><span class="line"> const app &#x3D; Vue.createApp(&#123;&#125;)</span><br><span class="line"> app.component(&#39;Father&#39;,&#123;</span><br><span class="line">   template: &#39;#father&#39;,</span><br><span class="line">   methods: &#123;</span><br><span class="line">     kick () &#123;&#x2F;&#x2F; 把这个方法传递给sister组件，然后sister执行</span><br><span class="line">       &#x2F;&#x2F; 我们来触发son组件的方法</span><br><span class="line">       &#x2F;&#x2F; console.log(this)</span><br><span class="line">       this.$refs.zj.setCryFlag()&#x2F;&#x2F; 通过$refs可以拿到子组件中的方法和数据</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;)</span><br><span class="line"> app.component(&#39;Son&#39;,&#123;</span><br><span class="line">   template: &#39;#son&#39;,</span><br><span class="line">   data () &#123;</span><br><span class="line">     return &#123;</span><br><span class="line">       cryFlag: false </span><br><span class="line">     &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   methods: &#123;</span><br><span class="line">     setCryFlag () &#123;</span><br><span class="line">       this.cryFlag &#x3D; !this.cryFlag</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;)</span><br><span class="line"> app.component(&#39;Sister&#39;,&#123;</span><br><span class="line">   template: &#39;#sister&#39;,</span><br><span class="line">   props: [&#39;kick&#39;]</span><br><span class="line"> &#125;)</span><br><span class="line"> app.mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure>


<p><a name="xLPh3"></a></p>
<h2 id="跨组件通信"><a href="#跨组件通信" class="headerlink" title="跨组件通信"></a>跨组件通信</h2><pre><code>        父组件 provide：&#123;&#125; //提供数据&lt;br /&gt; 子组件  inject:[] //注入数据&lt;br /&gt;最后使用  父组件使用子元素标签调用数据&lt;Son&gt;&lt;/Son&gt;
</code></pre>
<p><a name="nsR7o"></a></p>
<h2 id="动画和过渡"><a href="#动画和过渡" class="headerlink" title="动画和过渡"></a>动画和过渡</h2><ol>
<li><p>动画：j s实现动画效果</p>
</li>
<li><p>过渡：css3来实现</p>
<ol>
<li>animate.css<ol>
<li>vue提供了一个内置组件：transition</li>
<li>mode  表示transition组件的过渡的顺序<ol>
<li>out-in   推荐</li>
<li>in-out</li>
</ol>
</li>
<li>enter-active-class  进入</li>
<li>leave-cative-class   离开<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enter-active-class &#x3D;&quot;&quot;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;button @click&#x3D;&quot;setFlag&quot;&gt; 切换 &lt;&#x2F;button&gt;</span><br><span class="line">  &lt;!-- vue提供了一个内置组件：transition  --&gt;</span><br><span class="line">  &lt;!-- </span><br><span class="line">    mode 表示transition组件的过渡的顺序</span><br><span class="line">      out-in 选择用out-in</span><br><span class="line">      in-out</span><br><span class="line">    enter-active-class 表示的是过渡进入时的过渡效果</span><br><span class="line">    leave-active-class 表示的是过渡离开时的过渡效果</span><br><span class="line">   --&gt;</span><br><span class="line">  &lt;transition</span><br><span class="line">    mode&#x3D;&quot;in-out&quot;</span><br><span class="line">    enter-active-class&#x3D;&quot;animate__animated animate__backInLeft&quot;</span><br><span class="line">    leave-active-class&#x3D;&quot;animate__animated animate__backOutLeft&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;p v-if&#x3D;&quot;flag&quot;&gt; 123 &lt;&#x2F;p&gt;</span><br><span class="line">  &lt;&#x2F;transition&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
js页面<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const app &#x3D; Vue.createApp(&#123;</span><br><span class="line">    data () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        flag: true </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      setFlag () &#123;</span><br><span class="line">        this.flag &#x3D; !this.flag </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  app.mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure>
<a name="Z6SME"></a><h2 id="数据请求"><a href="#数据请求" class="headerlink" title="数据请求"></a>数据请求</h2></li>
</ol>
</li>
</ol>
</li>
<li><p>1.原生的ajax和jq不符合框架的用法</p>
</li>
<li><p>框架中数据请求方式</p>
<ol>
<li>html5提供的   fetch</li>
<li>第三方库：axios</li>
</ol>
</li>
<li><p>先学习fetch   在学习axios</p>
</li>
<li><p>工作fetch</p>
</li>
<li><p>axios和fetch的返回值都是67</p>
</li>
<li><p>promise  （promise的api都可以用）<br><a name="8IqiY"></a></p>
<h3 id="1-fetch"><a href="#1-fetch" class="headerlink" title="1.fetch"></a>1.fetch</h3><p>(1).fetch-get <br />fetch(url,requestConfig)<br />html页面<br /></p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;get&quot;&gt; get &lt;&#x2F;button&gt; &lt;hr&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;postJson&quot;&gt; post - json提交 &lt;&#x2F;button&gt; &lt;hr&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;postForm&quot;&gt; post - from提交 &lt;&#x2F;button&gt; &lt;hr&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;file&quot; name&#x3D;&quot;&quot; id&#x3D;&quot;&quot; @change&#x3D;&quot;postFile&quot;&gt; &lt;hr&gt;</span><br><span class="line">    &lt;div v-if&#x3D;&quot;flag&quot;&gt; 数据加载中... &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-for &#x3D; &quot;item in lists&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">        &lt;h3&gt; &#123;&#123; item.d_title &#125;&#125; &lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;img  width&#x3D;&quot;80&quot; height&#x3D;&quot;100&quot; :src&#x3D;&quot;item.pic&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">      &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p><br />js页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">const app &#x3D; Vue.createApp(&#123;</span><br><span class="line">   data () &#123;</span><br><span class="line">     return &#123;</span><br><span class="line">       flag: false,</span><br><span class="line">       lists: [] &#x2F;&#x2F; 用于接收后端返回的结果，然后进行页面渲染</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   methods: &#123;</span><br><span class="line">     get () &#123;</span><br><span class="line">       &#x2F;&#x2F; const p &#x3D; fetch()</span><br><span class="line">       &#x2F;&#x2F; fetch(url,requestConfig)</span><br><span class="line">       &#x2F;&#x2F; get请求的参数是携带在url上</span><br><span class="line">       this.flag &#x3D; true </span><br><span class="line">       fetch(&#39;http:&#x2F;&#x2F;59.110.226.77:3000&#x2F;api&#x2F;list&#x2F;hot?cid&#x3D;17&#39;)</span><br><span class="line">         .then(data&#x3D;&gt;data.json()) &#x2F;&#x2F; 功能： 数据格式化   data.text() 文本  data.blob() 二进制【音频，视频，图片 】 </span><br><span class="line">         .then(res &#x3D;&gt; &#123;</span><br><span class="line">           &#x2F;&#x2F; console.log(&#39;res&#39;,res)</span><br><span class="line">           this.lists &#x3D; res.data.content &#x2F;&#x2F; 赋值</span><br><span class="line">           this.flag &#x3D; false </span><br><span class="line">         &#125;)&#x2F;&#x2F; 可以得到格式化后的数据</span><br><span class="line">         .catch(error&#x3D;&gt;Promise.reject(error)) &#x2F;&#x2F; 用于捕获数据请求的错误</span><br><span class="line">     &#125;,</span><br><span class="line">     postJson () &#123;</span><br><span class="line"></span><br><span class="line">     &#125;,</span><br><span class="line">     postForm () &#123;</span><br><span class="line"></span><br><span class="line">     &#125;,</span><br><span class="line">     postFile () &#123;</span><br><span class="line"></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;)</span><br><span class="line"> app.mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure>

<p><br />2.fetch-post -file<br />1.通过对象e来得到 图片的实例<br /><br><br />2.图片必须是二进制才能传递给后端<br /><br><br />HTML页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">   </span><br><span class="line">    &lt;input type&#x3D;&quot;file&quot; name&#x3D;&quot;&quot; id&#x3D;&quot;&quot; @change&#x3D;&quot;postFile&quot;&gt; &lt;hr&gt;</span><br><span class="line">    &lt;img :src&#x3D;&quot;pic&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<p>js页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">const app &#x3D; Vue.createApp(&#123;</span><br><span class="line">   data () &#123;</span><br><span class="line">     return &#123;</span><br><span class="line">       pic: &#39;&#39;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   methods: &#123;</span><br><span class="line">     postFile (e) &#123;</span><br><span class="line">       &#x2F;&#x2F;1. 通过事件对象 e 来得到 图片的  实例 </span><br><span class="line">       &#x2F;&#x2F; console.log(&#39;e&#39;,e.target.files[0])</span><br><span class="line">       &#x2F;&#x2F;2. 图片必须以二进制形式才能传递给后端 </span><br><span class="line">       const p &#x3D; new FormData()</span><br><span class="line">       p.append(&#39;file&#39;,e.target.files[0])</span><br><span class="line">       fetch(&#39;https:&#x2F;&#x2F;elm.cangdu.org&#x2F;v1&#x2F;addimg&#x2F;shop&#39;,&#123;</span><br><span class="line">         method: &#39;post&#39;,</span><br><span class="line">         body: p</span><br><span class="line">       &#125;).then(data &#x3D;&gt; data.json())</span><br><span class="line">         .then(res &#x3D;&gt; &#123;</span><br><span class="line">           console.log(&#39;res&#39;,res)</span><br><span class="line">           this.pic &#x3D;&#39;https:&#x2F;&#x2F;elm.cangdu.org&#x2F;img&#x2F;&#39; + res.image_path </span><br><span class="line">         &#125;)</span><br><span class="line">         .catch(error &#x3D;&gt; Promise.reject(error))</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;)</span><br><span class="line"> app.mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure>
<p>3.fetch-post-form<br />如果我们是做了表单提交，那么携带参数的形式叫做 Form Data<br />表单提交要添加一个请求头<br /><br><br />html页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">      总结  &lt;hr&gt;</span><br><span class="line">      1. 如果我们是做了表单提交，那么携带参数的形式叫做 Form Data   &lt;hr&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;row&quot;&gt;</span><br><span class="line">        &lt;label for&#x3D;&quot;&quot;&gt;用户名&lt;&#x2F;label&gt;</span><br><span class="line">        &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;username&quot; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;row&quot;&gt;</span><br><span class="line">        &lt;label for&#x3D;&quot;&quot;&gt;密码&lt;&#x2F;label&gt;</span><br><span class="line">        &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;pass&quot; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;postForm&quot;&gt;登录&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;hr &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<p>js页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    const app &#x3D; Vue.createApp(&#123;</span><br><span class="line">      data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          username: &quot;&quot;,</span><br><span class="line">          pass: &quot;&quot;,</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        postForm() &#123;</span><br><span class="line">          &#x2F;&#x2F; 表单提交需要转换参数 URLSearchParams原生js提供</span><br><span class="line">          fetch(&#39;http:&#x2F;&#x2F;59.110.226.77:3000&#x2F;api&#x2F;user&#x2F;login&#39;,&#123;</span><br><span class="line">            method: &#39;post&#39;,</span><br><span class="line">            headers: new Headers(&#123;</span><br><span class="line">              &#39;Content-Type&#39;:&#39;application&#x2F;x-www-form-urlencoded&#39;</span><br><span class="line">            &#125;), &#x2F;&#x2F; 添加一个请求头规定是表单提交</span><br><span class="line">            body: (new URLSearchParams([[&#39;username&#39;,this.username],[&#39;password&#39;,this.pass]])).toString()</span><br><span class="line">          &#125;).then(data &#x3D;&gt; data.json())</span><br><span class="line">            .then(res &#x3D;&gt; &#123;</span><br><span class="line">              console.log(&#39;res&#39;,res)</span><br><span class="line">            &#125;)</span><br><span class="line">            .catch(error &#x3D;&gt; Promise.reject(error))</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">    app.mount(&quot;#app&quot;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p>4.fetch-post-json<br />数据携带形式是一个对象<br />html页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">      总结  &lt;hr&gt;</span><br><span class="line">      1. headers中数据携带形式是一个对象  叫做  request payload[负载]  &lt;hr&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;row&quot;&gt;</span><br><span class="line">        &lt;label for&#x3D;&quot;&quot;&gt;用户名&lt;&#x2F;label&gt;</span><br><span class="line">        &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;username&quot; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;row&quot;&gt;</span><br><span class="line">        &lt;label for&#x3D;&quot;&quot;&gt;密码&lt;&#x2F;label&gt;</span><br><span class="line">        &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;pass&quot; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;postJson&quot;&gt;登录&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;hr &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<p>js页面<br /></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">const app &#x3D; Vue.createApp(&#123;</span><br><span class="line">      data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          username: &quot;&quot;,</span><br><span class="line">          pass: &quot;&quot;,</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        postJson() &#123;</span><br><span class="line">          fetch(&#39;http:&#x2F;&#x2F;59.110.226.77:3000&#x2F;api&#x2F;user&#x2F;login&#39;,&#123;</span><br><span class="line">            method: &#39;post&#39;,</span><br><span class="line">            body: JSON.stringify(&#123;</span><br><span class="line">              username: this.username,</span><br><span class="line">              password: this.pass</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;).then(data &#x3D;&gt; data.json())</span><br><span class="line">            .then(res &#x3D;&gt; &#123;</span><br><span class="line">              console.log(&#39;res&#39;,res)</span><br><span class="line">            &#125;)</span><br><span class="line">            .catch(error &#x3D;&gt; Promise.reject(error))</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">    app.mount(&quot;#app&quot;);</span><br></pre></td></tr></table></figure>
<p><a name="Oi8Mk"></a></p>
<h3 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h3><pre><code>网址：axios-js.com&lt;br /&gt;
</code></pre>
<p><br />1.axios-get<br /></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.  todo 1. axios()是一个Promise</span><br><span class="line">          &#x2F;&#x2F; const p &#x3D; axios()</span><br><span class="line">          &#x2F;&#x2F; console.log(p) &#x2F;&#x2F; Promise</span><br></pre></td></tr></table></figure>
<p>用法一</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">axios.get(url,&#123;params&#125;)  url是后端接口  params是携带参数的选项</span><br><span class="line">                &#x2F;&#x2F; axios.get(&#39;http:&#x2F;&#x2F;59.110.226.77:3000&#x2F;api&#x2F;list&#x2F;sell&#39;,&#123;</span><br><span class="line">                &#x2F;&#x2F;   params: &#123;</span><br><span class="line">                &#x2F;&#x2F;     cid: 17</span><br><span class="line">                &#x2F;&#x2F;   &#125;</span><br><span class="line">                &#x2F;&#x2F; &#125;).then(res &#x3D;&gt; &#123;</span><br><span class="line">                &#x2F;&#x2F;   console.log(&#39;res&#39;,res)</span><br><span class="line">                &#x2F;&#x2F;   this.lists &#x3D; res.data.data.content</span><br><span class="line">                &#x2F;&#x2F;   this.flag &#x3D; false</span><br><span class="line">                &#x2F;&#x2F; &#125;).catch(error &#x3D;&gt; Promise.reject(error))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>用法二<br /></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">用法二   axios(requestConfig)</span><br><span class="line">               &#x2F;&#x2F;       axios(&#123;</span><br><span class="line">               &#x2F;&#x2F;         url: &quot;http:&#x2F;&#x2F;59.110.226.77:3000&#x2F;api&#x2F;list&#x2F;sell&quot;,</span><br><span class="line">               &#x2F;&#x2F;         params: &#123;</span><br><span class="line">               &#x2F;&#x2F;           cid: 17,</span><br><span class="line">               &#x2F;&#x2F;         &#125;,</span><br><span class="line">               &#x2F;&#x2F;       &#125;)</span><br><span class="line">               &#x2F;&#x2F;         .then((res) &#x3D;&gt; &#123;</span><br><span class="line">               &#x2F;&#x2F;           console.log(&quot;res&quot;, res);</span><br><span class="line">               &#x2F;&#x2F;           this.lists &#x3D; res.data.data.content;</span><br><span class="line">               &#x2F;&#x2F;           this.flag &#x3D; false;</span><br><span class="line">               &#x2F;&#x2F;         &#125;)</span><br><span class="line">               &#x2F;&#x2F;         .catch((error) &#x3D;&gt; Promise.reject(error));</span><br></pre></td></tr></table></figure>
<p>html页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">       &lt;button @click&#x3D;&quot;getFunc&quot;&gt;axios-get&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;div v-if&#x3D;&quot;flag&quot;&gt;数据加载中...&lt;&#x2F;div&gt;</span><br><span class="line">       &lt;ul&gt;</span><br><span class="line">           &lt;li v-for&#x3D;&quot;item in lists&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">               &lt;h3&gt;&#123;&#123; item.title &#125;&#125;&lt;&#x2F;h3&gt;</span><br><span class="line">               &lt;img width&#x3D;&quot;80&quot; height&#x3D;&quot;100&quot; :src&#x3D;&quot;item.pic&quot; alt&#x3D;&quot;&quot; &#x2F;&gt;</span><br><span class="line">           &lt;&#x2F;li&gt;</span><br><span class="line">       &lt;&#x2F;ul&gt;</span><br><span class="line">   &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<p>2.axios-post-json<br />格式：axios.post(url,data,requestConfig)<br /><br><br />写法1：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">axios.post(&#39;http:&#x2F;&#x2F;59.110.226.77:3000&#x2F;api&#x2F;user&#x2F;login&#39;,&#123;</span><br><span class="line">           username: this.username,</span><br><span class="line">           password: this.pass </span><br><span class="line">         &#125;).then(res &#x3D;&gt; &#123;</span><br><span class="line">           console.log(&#39;res&#39;,res)</span><br><span class="line">         &#125;).catch(error &#x3D;&gt; Promise.reject(error))</span><br></pre></td></tr></table></figure>
<p>html页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;row&quot;&gt;</span><br><span class="line">      &lt;label for&#x3D;&quot;&quot;&gt; 用户名 &lt;&#x2F;label&gt;</span><br><span class="line">      &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;username&quot;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div class&#x3D;&quot;row&quot;&gt;</span><br><span class="line">      &lt;label for&#x3D;&quot;&quot;&gt; 密码 &lt;&#x2F;label&gt;</span><br><span class="line">      &lt;input type&#x3D;&quot;password&quot; v-model&#x3D;&quot;pass&quot;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class&#x3D;&quot;row&quot;&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;postJson&quot;&gt; 登录 &lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<p><a name="By59f"></a></p>
<h2 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h2><ol>
<li><p>作用</p>
<ol>
<li>给我们机会在组件创建前或者组件变化时添加代码的机会</li>
</ol>
</li>
<li><p>组件生命周期划分阶段  13个    核心8个<br><a name="6LHqx"></a></p>
<h4 id="1-mounting-挂载-：自动执行-，自动触发，触发一次"><a href="#1-mounting-挂载-：自动执行-，自动触发，触发一次" class="headerlink" title="1.mounting 挂载 ：自动执行 ，自动触发，触发一次"></a>1.mounting 挂载 ：自动执行 ，自动触发，触发一次</h4><pre><code>  1. beforeCreate()  表示组件创建前  不干预
     1. init   events &amp; lifecycle   初始化事件和生命周期钩子函数
  2. created     表示组件创建结束   不干预
     1. init  injection &amp; reactivity   初始化注入【data】并且响应式【数据改变，界面改变】
  3. beforeMount
     1. 任务
        1. 判断组件是否有template选项？
           1. yes  使用  render  函数 来编译template   得到  虚拟DOM对象模型【js对象】
  4. mounted
  4. 总结：
     1. 前三个钩子函数：会写，会念，了解做了什么
     1. 项目环境：mounted
        1. 组件加载结束之后自动发送数据请求
        1. 真是dom操作 ---第三方库的实例化
  6. 面试题
     1. 1.虚拟dom什么时候生成的  created  之后   beforCreate之前
     1. 真是dom什么时候拿到的   mounted
</code></pre>
<p><a name="RldE4"></a></p>
<h4 id="2updating-更新"><a href="#2updating-更新" class="headerlink" title="2updating      更新"></a>2updating      更新</h4><p>触发要求： 数据改变后触发，数据也要用</p>
<pre><code>  1. beforeUpdate    不干预，不使用
  1. 表示：组件更新前
  1. 作用 ：监听数据
     1. updated
        1. 表示：组件更新结束
        1. 作用 ：虚拟dom渲染生成，并且通过diff算法比对新旧的虚拟dom。得到一个patch补丁对象【虚拟dom】，重新将patch补丁对象渲染到页面
     2. diff  可以进行数据类型对比    
        1. API      Diff.diffChars(oldStr, newStr[, options])   
        1. JSON    Diff.diffJson(oldObj, newObj[, options]) 
        1. 数组    Diff.diffArrays(oldArr, newArr[, options]) 等...............
  4. 总结  (1)两个钩子函数重点在updated 
</code></pre>
<p>(2) updated可以做真实DOM操作，数据请求<br><a name="LFoqN"></a></p>
<h4 id="3-destroying-销毁-两个钩子作用一样，使用一个即可"><a href="#3-destroying-销毁-两个钩子作用一样，使用一个即可" class="headerlink" title="3.destroying    销毁   两个钩子作用一样，使用一个即可"></a>3.destroying    销毁   两个钩子作用一样，使用一个即可</h4><pre><code>  1. beforeUnmount
     1. 组件销毁前
     1. 作用：自动销毁组件定义methods/指令/computed/watch
     1. 手动操作：
        1. 清除计时器和定时器
        1. 清除绑定在window/document身上事件
        1. 清除第三方实例
</code></pre>
<p>2.unmounted<br><a name="EZXFI"></a></p>
<h4 id="4-缓存阶段"><a href="#4-缓存阶段" class="headerlink" title="4.缓存阶段"></a>4.缓存阶段</h4><ol>
<li><p>触发条件：keep-alive[缓存组件]</p>
<ol>
<li><keep-alive include="One" > //只缓存one<keep-alive exclude="One" > //不缓存one    <component :is="compName"></component> </keep-alive></li>
</ol>
</li>
<li><p>解释</p>
<ol>
<li>activate   前台显示</li>
<li>deactivated  后台缓存</li>
<li>app.unmount()  删除缓存中的组件</li>
</ol>
</li>
<li><p>工作</p>
<ol>
<li>deactivated  如果缓存时间过久  可以自动去清除缓存<br><a name="oQksi"></a><h4 id="5-错误处理阶段"><a href="#5-错误处理阶段" class="headerlink" title="5.错误处理阶段"></a>5.错误处理阶段</h4></li>
</ol>
</li>
<li><p>作用：父组件捕获子组件的错误，使用另一个页面代替错误的子组件，称为回退ui</p>
</li>
<li><p>解释</p>
<ol>
<li><p>errorCaptured(error,instance,info)  error:错误    instance  组件  info具体信息<br><a name="wspq1"></a></p>
<h4 id="6-虚拟DOM跟踪两个钩子函数"><a href="#6-虚拟DOM跟踪两个钩子函数" class="headerlink" title="6.虚拟DOM跟踪两个钩子函数"></a>6.虚拟DOM跟踪两个钩子函数</h4><p>renderTracked({key,target,tyep})</p>
</li>
<li><p>key:数据名称</p>
</li>
<li><p>data：选项返回值</p>
</li>
<li><p>get：要做的get操作</p>
</li>
</ol>
</li>
</ol>
</li>
<li><p>一共13个钩子函数  核心8个，使用3个</p>
<ol>
<li>面试时问核心8个<ol>
<li>挂载+更新+销毁</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>  b.使用的三个<br />1.mounted<br />2.updated<br />3.unmounted<br /></p>
<p><a name="OZk14"></a></p>
<h2 id="路由通信"><a href="#路由通信" class="headerlink" title="路由通信"></a>路由通信</h2><p><a name="SSG1f"></a></p>
<h2 id="多组件状态管理"><a href="#多组件状态管理" class="headerlink" title="多组件状态管理"></a>多组件状态管理</h2>
            </div>
            
                <div class="kratos-copyright text-center clearfix">
                    <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
                </div>
            
            <footer class="kratos-entry-footer clearfix">
                
                    <div class="post-like-donate text-center clearfix" id="post-like-donate">
                    
                    
                        <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a>
                        <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "http://example.com/2021/04/15/6.vue%E5%9F%BA%E7%A1%804/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "http://example.com/2021/04/15/6.vue%E5%9F%BA%E7%A1%804/";
            const title         = "「」";
            const excerpt       = `
组件通信
父子组件通信两个组件   父  与  子&lt;br /&gt;    props：【‘’】  接受数据  只接受不校验&lt;br /&gt;    写法1：

123props:&#123;		money:Number...`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                    
                    </div>
                
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fa fa-tags"></i>
                        
                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2021-04-15</span>
                    </div>
                </div>
            </footer>
        </div>
        
            <nav class="navigation post-navigation clearfix" role="navigation">
                
                <div class="nav-previous clearfix">
                    <a title=" Hello World" href="/2021/04/15/hello-world/">&lt; 上一篇</a>
                </div>
                
                
            </nav>
        
        
    </article>
</section>

                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/avatar.webp" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center"></p>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                

            
                
            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
        
          
          
            <a class="list-group-item" href="/2021/04/15/hello-world/"><i class="fa  fa-book"></i> Hello World</a>
            
          
        
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer"  class="ap-lrc"  >
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        
                        
                        <li><a target="_blank" rel="nofollow" href="https://t.me/CandyUnion"><i class="fa fa-telegram"></i></a></li>
                        
                        
                        
                        <li><a target="_blank" rel="me" href="https://nya.one/@Candinya"><i class="fa fa fa-share-alt-square"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://github.com/Candinya"><i class="fa fa-github"></i></a></li>
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2021 Hexo 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by John Doe.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            <li>Hosted on <a href="https://github.io" target="_blank">Github Pages</a></li>
                        </div>
                        <div>
                            
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js"></script>
<script>const notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));</script>

<script async src="/js/candy.min.js"></script>

    <script defer src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
    
    <script defer src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
    <meting-js
        server="netease"
        type="playlist"
        id="3204190542"
        order="random"
        fixed="true"
    >
    </meting-js>



    <script defer src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>


    <script defer src="/js/kr-dark.min.js"></script>



<!-- Extra support for third-party plguins  -->


    </body>
</html>